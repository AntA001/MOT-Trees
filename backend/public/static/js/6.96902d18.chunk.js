(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(53),r=a.n(n),c=a(59),o=a(10),l=a(0),s=a.n(l),i=a(144),u=a(114),m=a(164),d=(a(221),function(e){var t=Object(l.useRef)(),a=e.center,n=e.zoom;return Object(l.useEffect)((function(){var e=new window.google.maps.Map(t.current,{center:a,zoom:n});new window.google.maps.Marker({position:a,map:e})}),[a,n]),s.a.createElement("div",{ref:t,className:"map ".concat(e.className),style:e.style})}),p=a(145),f=a(16),E=a(11),h=a(101),v=(a(222),function(e){var t,a=Object(h.a)(),n=a.isLoading,v=a.error,w=a.sendRequest,g=a.clearError,b=Object(l.useContext)(E.a),C=Object(l.useState)(!1),k=Object(o.a)(C,2),O=k[0],j=k[1],_=Object(l.useState)(!1),y=Object(o.a)(_,2),x=y[0],T=y[1],N=Object(l.useState)(!1),W=Object(o.a)(N,2),D=W[0],S=W[1],A=function(){return j(!1)},F=function(){T(!1)},J=function(){S(!1)},L=b.userId,z=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!1),t.prev=1,t.next=4,w("https://mottrees.herokuapp.com/api"+"/trees/".concat(e.id,"/delete"),"PATCH",JSON.stringify({uid:L,tid:e.id}),{"Content-Type":"application/json"});case 4:e.onDeleteTree(e.id),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!1),t.prev=1,t.next=4,w("https://mottrees.herokuapp.com/api"+"/trees/".concat(e.id,"/water"),"PATCH",JSON.stringify({uid:L,tid:e.id}),{"Content-Type":"application/json"});case 4:e.onWaterTree(e.id),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();if(null!=e.lastWatered){var R=e.lastWatered.split("/"),q=new Date(R[0],R[1]-1,R[2]),H=(new Date).getTime()-q.getTime(),I=Math.round(H/864e5);t=I-1==0?"\u03a3\u0397\u039c\u0395\u03a1\u0391":I-1==1?"\u0395\u03a7\u0398\u0395\u03a3":I-1+" \u039c\u0395\u03a1\u0395\u03a3 \u03a0\u03a1\u0399\u039d"}else t="\u0394\u0395\u039d \u0395\u03a7\u0395\u0399 \u03a0\u039f\u03a4\u0399\u03a3\u03a4\u0395\u0399";return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{error:v,onClear:g}),s.a.createElement(m.a,{show:O,onCancel:A,header:e.address,contentClass:"tree-item__modal-content",footerClass:"tree-item__modal-actions",footer:s.a.createElement(u.a,{onClick:A},"\u039a\u039b\u0395\u0399\u03a3\u03a4\u0395")},s.a.createElement("div",{className:"map-container"},s.a.createElement(d,{center:e.coordinates,zoom:16}))),s.a.createElement(m.a,{show:x,onCancel:F,header:"\u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03b9;",footerClass:"tree-item__modal-actions",footer:s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{inverse:!0,onClick:F},"\u0391\u039a\u03a5\u03a1\u03a9\u03a3\u0397"),s.a.createElement(u.a,{danger:!0,onClick:z},"\u0394\u0399\u0391\u0393\u03a1\u0391\u03a6\u0397"))},s.a.createElement("p",{style:{textAlign:"center"}},"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c8\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf;")),s.a.createElement(m.a,{show:D,onCancel:J,header:"\u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03b9;",footerClass:"tree-item__modal-actions",footer:s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{danger:!0,onClick:J},"\u0391\u039a\u03a5\u03a1\u03a9\u03a3\u0397"),s.a.createElement(u.a,{water:!0,onClick:M},"\u0395\u03a0\u0399\u0392\u0395\u0392\u0391\u0399\u03a9\u03a3\u0397"))},s.a.createElement("p",{style:{textAlign:"center"}},"\u03a0\u03bf\u03c4\u03af\u03c3\u03b1\u03c4\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf;")),s.a.createElement("li",{className:"tree-item"},s.a.createElement(i.a,{className:"tree-item__content"},n&&s.a.createElement(f.a,{asOverlay:!0}),s.a.createElement("div",{className:"tree-item__image"},s.a.createElement("img",{src:e.image,alt:e.title})),s.a.createElement("div",{className:"tree-item__info"},s.a.createElement("h2",null,e.title),s.a.createElement("h3",null,e.address),s.a.createElement("p",null,"\u0395\u0399\u0394\u039f\u03a3: ",e.type),s.a.createElement("p",null,"\u03a4\u0395\u039b\u0395\u03a5\u03a4\u0391\u0399\u039f \u03a0\u039f\u03a4\u0399\u03a3\u039c\u0391: ",t)),s.a.createElement("div",{className:"tree-item__actions"},s.a.createElement(u.a,{inverse:!0,onClick:function(){return j(!0)}},"\u0394\u0395\u0399\u03a4\u0395 \u03a4\u039f \u03a3\u03a4\u039f\u039d \u03a7\u0391\u03a1\u03a4\u0397"),s.a.createElement("br",null),s.a.createElement(u.a,{water:!0,onClick:function(){S(!0)}},"\u03a0\u039f\u03a4\u0399\u03a3\u03a4\u0395"),s.a.createElement(u.a,{danger:!0,onClick:function(){T(!0)}},"\u0394\u0399\u0391\u0393\u03a1\u0391\u03a6\u0397")))))}),w=(a(223),function(e){return 0===e.items.length?s.a.createElement("div",{className:"tree-list center"},s.a.createElement(i.a,null,s.a.createElement("h2",null,"\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03b7\u03bc\u03ad\u03bd\u03b1 \u03b4\u03ad\u03bd\u03c4\u03c1\u03b1, \u039c\u03ae\u03c0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b9\u03c5\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ad\u03bd\u03b1;"),s.a.createElement(u.a,{to:"/map"},"\u03a5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03c4\u03b5 \u03ad\u03bd\u03b1 \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf!"))):s.a.createElement("ul",{className:"tree-list"},e.items.map((function(t){return s.a.createElement(v,{key:t.id,id:t.id,image:"https://www.sciencenewsforstudents.org/wp-content/uploads/2020/04/1030_LL_trees-1028x579.png",title:t.title,lastWatered:t.lastWatered,needsWatering:t.needsWatering,type:t.type,address:t.address,coordinates:t.location,onDeleteTree:e.onDeleteTree,onWaterTree:e.onWaterTree})})))});t.default=function(){var e=Object(l.useState)(),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(h.a)(),u=i.isLoading,m=i.error,d=i.sendRequest,v=i.clearError,g=Object(l.useContext)(E.a).userId;Object(l.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("https://mottrees.herokuapp.com/api"+"/trees/user/".concat(g));case 3:t=e.sent,n(t.trees),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[d,g]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{error:m,onClear:v}),u&&s.a.createElement("div",{className:"center"},s.a.createElement(f.a,null)),!u&&a&&s.a.createElement(w,{items:a,onDeleteTree:function(e){n((function(t){return t.filter((function(t){return t.id!=e}))}))},onWaterTree:function(e){window.location.reload(!1)}}))}}}]);
//# sourceMappingURL=6.96902d18.chunk.js.map