(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(53),r=n.n(a),c=n(59),i=n(10),o=n(0),l=function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],l=Object(o.useState)(),u=Object(i.a)(l,2),s=u[0],p=u[1],d=Object(o.useRef)([]),f=Object(o.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c,i,o,l,u,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",c=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]?s[3]:{},a(!0),o=new AbortController,d.current.push(o),e.prev=6,e.next=9,fetch(t,{method:n,body:c,headers:i,signal:o.signal});case 9:return l=e.sent,e.next=12,l.json();case 12:if(u=e.sent,d.current=d.current.filter((function(e){return e!==o})),l.ok){e.next=16;break}throw new Error(u.message);case 16:return a(!1),e.abrupt("return",u);case 20:throw e.prev=20,e.t0=e.catch(6),p(e.t0.message),a(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){return function(){d.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:s,sendRequest:f,clearError:function(){p(null)}}}},124:function(e,t){},181:function(e,t){},228:function(e,t){},234:function(e,t){},280:function(e,t,n){"use strict";n.r(t),n.d(t,"MapDeckGl",(function(){return C}));var a=n(47),r=n(53),c=n.n(r),i=n(59),o=n(10),l=n(298),u=n(293),s=n(0),p=n.n(s),d=n(2),f=n(307),b=n(250),m=n(101),j=n(11),h=n(313),O=n(311),v=n(312),g=n(291),E=n(296),y=n(294),w=n(310),k=n(308),x=n(309),S=n(305),C=function(){var e=Object(m.a)().sendRequest,t=Object(s.useRef)(),n=Object(s.useState)(null),r=Object(o.a)(n,2),C=r[0],R=r[1],F=Object(s.useContext)(j.a).userId;Object(s.useEffect)((function(){(function(){var t=Object(i.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e("https://mottrees.herokuapp.com/api/trees");case 3:n=t.sent,a=n.trees.map((function(e){return{type:"Feature",properties:{id:e._id,date:e.date,owner:e.owner},geometry:{type:"Point",coordinates:[e.location.lng,e.location.lat]}}})),R(a),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var M=Object(s.useState)(new f.a({layers:[new u.a({id:"scatterplot-layer",data:C,opacity:.8,filled:!0,radiusMinPixels:2,radiusMaxPixels:5,getFillColor:function(e){return[255,140,0]},getRadius:5})]})),A=Object(o.a)(M,2),P=A[0],T=A[1];function J(e,t){if(null!=t)return t==F?[255,0,255]:[192,192,192];var n=new Date(e);return Date.now()-n.getTime()>94670856e3?[42,148,27]:[0,130,255]}Object(s.useEffect)((function(){var e=new f.a({layers:[new u.a({id:"scatterplot-layer",data:C,pickable:!0,opacity:.8,filled:!0,radiusMinPixels:1,radiusMaxPixels:5,getFillColor:function(e){return J(e.properties.date,e.properties.owner)},getPointRadius:2,onClick:function(e){return le(e.object.properties.id,e.object.properties.date,e.object.properties.owner)}})]});e.setMap(t.current),T(e)}),[C]);var G=p.a.useState(!1),I=Object(o.a)(G,2),L=I[0],D=I[1],N=p.a.useState(!1),q=Object(o.a)(N,2),B=q[0],K=q[1],U=Object(s.useState)(null),z=Object(o.a)(U,2),H=z[0],W=z[1],Z=Object(s.useState)(null),_=Object(o.a)(Z,2),Q=(_[0],_[1]),V=Object(s.useState)(null),X=Object(o.a)(V,2),Y=X[0],$=X[1],ee=Object(s.useState)("\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf;"),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],re=Object(s.useState)("\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf; \u0397 \u03c5\u03b9\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03ac\u03bb\u03b7 \u03b5\u03c5\u03b8\u03cd\u03bd\u03b7!"),ce=Object(o.a)(re,2),ie=ce[0],oe=ce[1],le=function(e,t,n){W(e),Q(t),$(n),null!=n&&n!=F?(ae("\u0391\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf \u03ad\u03c7\u03b5\u03b9 \u03ae\u03b4\u03b7 \u03b9\u03b4\u03b9\u03bf\u03ba\u03c4\u03ae\u03c4\u03b7!"),oe("\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03ac\u03bb\u03bb\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf!")):null!=n&&n==F?(ae("\u0391\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf \u03c3\u03b1\u03c2 \u03b1\u03bd\u03ae\u03ba\u03b5\u03b9!"),oe("\u0391\u03bd \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03ac\u03bb\u03bb\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf!")):JSON.stringify(J(t,n))==JSON.stringify([0,130,255])?(ae("\u0391\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03ba\u03cc\u03bc\u03b1 \u03bd\u03ad\u03bf, \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c4\u03bf \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5;"),oe("\u0391\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03c0\u03bb\u03ad \u03b3\u03b9\u03b1\u03c4\u03af \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03ba\u03cc\u03bc\u03b1 \u03bd\u03ad\u03bf. \u03a4\u03b1 \u03bd\u03b5\u03ac \u03b4\u03ad\u03bd\u03c4\u03c1\u03b1 \u03b1\u03c0\u03b1\u03b9\u03c4\u03bf\u03cd\u03bd \u03c0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03bf \u03c0\u03cc\u03c4\u03b9\u03c3\u03bc\u03b1. \u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03b9 \u03c0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c4\u03bf \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5;")):(ae("\u03a5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03c4\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf;"),oe("\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf; \u0397 \u03c5\u03b9\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03ac\u03bb\u03b7 \u03b5\u03c5\u03b8\u03cd\u03bd\u03b7!")),D(!0)},ue=function(){K(!1)},se=function(){D(!1)};function pe(){return(pe=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e("https://mottrees.herokuapp.com/api"+"/trees/".concat(H,"/adopt"),"PATCH",JSON.stringify({uid:F,tid:H}),{"Content-Type":"application/json"});case 3:t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:R((function(e){return e.map((function(e){var t=Object(a.a)({},e);return e.properties.id==H&&(t.properties.owner=F),t}))})),D(!1),K(!0);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}var de=Object(d.g)();return null==C?p.a.createElement(p.a.Fragment,null,p.a.createElement(k.a,{sx:{height:"100vh",width:"100%",textAlign:"center",margin:"auto"}},p.a.createElement(x.a,null,p.a.createElement(S.a,{variant:"h5",component:"div"},"38441 \u03b4\u03ad\u03bd\u03c4\u03c1\u03b1 \u03c6\u03bf\u03c1\u03c4\u03ce\u03bd\u03bf\u03c5\u03bd \ud83c\udf33"),p.a.createElement(S.a,{variant:"body2"},p.a.createElement(w.a,null))))):p.a.createElement("div",{style:{height:"100vh",width:"100%"}},p.a.createElement(l.a,null,p.a.createElement(b.a,{bootstrapURLKeys:{key:"AIzaSyBpEvsFnyxSbOKF4fe6jBtloRj4Lvw52R0"},defaultCenter:{lat:40.6401,lng:22.9444},defaultZoom:15,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var n=e.map;t.current=n,P.setMap(n)}})),p.a.createElement(y.a,{open:L,onClose:se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},p.a.createElement(g.a,{id:"Title"},ne),p.a.createElement(O.a,null,p.a.createElement(v.a,{id:"alert-dialog-description"},ie)),p.a.createElement(h.a,null,p.a.createElement(E.a,{onClick:se},"\u0391\u039a\u03a5\u03a1\u03a9\u03a3\u0397"),p.a.createElement(E.a,{onClick:function(){return pe.apply(this,arguments)},disabled:null!=Y,autoFocus:!0},"\u03a5\u0399\u039f\u0398\u0395\u03a4\u0397\u03a3\u03a4\u0395 \u03a4\u039f!"))),p.a.createElement(y.a,{open:B,onClose:ue,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},p.a.createElement(g.a,{id:"Adopt notification"},"\u03a3\u03c5\u03b3\u03c7\u03b1\u03c1\u03b7\u03c4\u03ae\u03c1\u03b9\u03b1! \u03a5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b1\u03c4\u03b5 \u03ad\u03bd\u03b1 \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03ce\u03c2!"),p.a.createElement(O.a,null,p.a.createElement(v.a,{id:"alert-dialog-description"},"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b4\u03b5\u03af\u03c4\u03b1 \u03c4\u03b1 \u03b4\u03ad\u03bd\u03c4\u03c1\u03b1 \u03c3\u03b1\u03c2, \u03ae \u03bd\u03b1 \u03c5\u03b9\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03ba\u03cc\u03bc\u03b1 \u03ad\u03bd\u03b1 \u03b4\u03ad\u03bd\u03c4\u03c1\u03bf;")),p.a.createElement(h.a,null,p.a.createElement(E.a,{onClick:function(){de.push("/trees")}},"\u0394\u0395\u0399\u03a4\u0395 \u03a4\u0391 \u0394\u0395\u039d\u03a4\u03a1\u0391 \u03a3\u0391\u03a3"),p.a.createElement(E.a,{onClick:ue,autoFocus:!0},"\u03a5\u0399\u039f\u0398\u0395\u03a4\u0397\u03a3\u03a4\u0395 \u0391\u039a\u039f\u039c\u0391 \u0395\u039d\u0391"))))};t.default=C}}]);
//# sourceMappingURL=7.efbc5054.chunk.js.map